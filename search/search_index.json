{"config":{"lang":["zh"],"separator":"[\\s\\u200b\\-_,:!=\\[\\]()\"`/]+|\\.(?!\\d)|&[lg]t;|(?!\\b)(?=[A-Z][a-z])","pipeline":["stemmer"]},"docs":[{"location":"about/","title":"\u5173\u4e8e","text":"<p>\u6b64\u6587\u6863\u7531 MkDocs \u6784\u5efa\uff0c\u5e76\u4f7f\u7528 mkdocs-material \u4e3b\u9898\u7f8e\u5316\uff0c\u63d2\u56fe\u6765\u6e90\u4e8e illustrations\u3002</p>"},{"location":"schema/","title":"\u914d\u7f6e\u7ea6\u675f","text":"<p>\u7ed9\u914d\u7f6e\u6587\u4ef6\u6dfb\u52a0\u7ea6\u675f\u529f\u80fd\uff0c\u53ef\u4ee5\u6709\u6548\u907f\u514d\u914d\u7f6e\u9519\u8bef\u5bfc\u81f4\u7a0b\u5e8f\u8fd0\u884c\u5f02\u5e38\u3002</p>"},{"location":"schema/#json-schema","title":"JSON Schema \u7ea6\u675f\u6587\u4ef6","text":"\u6587\u4ef6\u540d \u4f5c\u7528 auto-unpack-schema.json \u9879\u76ee\u914d\u7f6e\u7ea6\u675f\uff08application.yaml\uff09 auto-unpack-flow-schema.json \u9a8c\u8bc1\u6d41\u7a0b\u914d\u7f6e\u7ea6\u675f\uff08application.[mode].yaml\uff09 <p>\u6ce8\u610f\u4e8b\u9879</p> <p>\u7ea6\u675f\u6587\u4ef6\u751f\u6210\u89c4\u5219\uff0c\u6709\u53d8\u5316\u624d\u4f1a\u751f\u6210\u5bf9\u5e94\u7248\u672c\u7684\u7ea6\u675f\u6587\u4ef6\u3002\u6240\u4ee5\u672a\u53d1\u73b0\u4e0e\u5f53\u524d\u7248\u672c\u53f7\u76f8\u540c\u7684\u7ea6\u675f\u6587\u4ef6\u65f6\uff0c\u8bf7\u4f7f\u7528\u5c0f\u4e8e\u6216\u7b49\u4e8e\u5f53\u524d\u7248\u672c\u53f7\u7684\u6700\u63a5\u8fd1\u7684\u7248\u672c\u53f7\u3002</p> <p>\u4f8b\u5982\uff1a\u5f53\u524d\u7248\u672c\uff1a2.11.0\uff0c\u7ea6\u675f\u6587\u4ef6\u7248\u672c\uff1a\u3010...\uff0c2.7.0\uff0c2.8.0\uff0c2.9.0\uff0c2.14.0\u3011\uff0c\u5219\u4f7f\u7528\u7248\u672c\u53f7 2.9.0 \u5373\u53ef\u3002</p> jsDelivrGithub <pre><code>&lt;!-- \u6700\u65b0 --&gt;\nhttps://cdn.jsdelivr.net/gh/xiaohuohumax/auto-unpack@main/schema/auto-unpack-schema.json\n&lt;!-- \u7279\u5b9a\u7248\u672c --&gt;\nhttps://cdn.jsdelivr.net/gh/xiaohuohumax/auto-unpack@main/schema/[version]/auto-unpack-schema.json\n\n&lt;!-- \u6700\u65b0 --&gt;\nhttps://cdn.jsdelivr.net/gh/xiaohuohumax/auto-unpack@main/schema/auto-unpack-flow-schema.json\n&lt;!-- \u7279\u5b9a\u7248\u672c --&gt;\nhttps://cdn.jsdelivr.net/gh/xiaohuohumax/auto-unpack@main/schema/[version]/auto-unpack-flow-schema.json\n</code></pre> <pre><code>&lt;!-- \u6700\u65b0 --&gt;\nhttps://raw.githubusercontent.com/xiaohuohumax/auto-unpack/main/schema/auto-unpack-schema.json\n&lt;!-- \u7279\u5b9a\u7248\u672c --&gt;\nhttps://raw.githubusercontent.com/xiaohuohumax/auto-unpack/main/schema/[version]/auto-unpack-schema.json\n\n&lt;!-- \u6700\u65b0 --&gt;\nhttps://raw.githubusercontent.com/xiaohuohumax/auto-unpack/main/schema/auto-unpack-flow-schema.json\n&lt;!-- \u7279\u5b9a\u7248\u672c --&gt;\nhttps://raw.githubusercontent.com/xiaohuohumax/auto-unpack/main/schema/[version]/auto-unpack-flow-schema.json\n</code></pre>"},{"location":"schema/#vscode-schema","title":"VSCode \u4e2d\u4f7f\u7528 Schema","text":"<p>\u5b89\u88c5\u63d2\u4ef6 redhat.vscode-yaml</p> <p>\u6dfb\u52a0\u7ea6\u675f\u6620\u5c04 <code>.vscode/settings.json</code></p> <pre><code>{\n    \"yaml.schemas\": {\n        // cdn\n        // \"https://cdn.jsdelivr.net/gh/xiaohuohumax/auto-unpack@main/schema/auto-unpack-schema.json\": \"config/application.yaml\",\n        // \"https://cdn.jsdelivr.net/gh/xiaohuohumax/auto-unpack@main/schema/auto-unpack-flow-schema.json\": \"config/application.*.yaml\",\n        // github\n        // \"https://raw.githubusercontent.com/xiaohuohumax/auto-unpack/main/schema/auto-unpack-schema.json\": \"config/application.yaml\",\n        // \"https://raw.githubusercontent.com/xiaohuohumax/auto-unpack/main/schema/auto-unpack-flow-schema.json\": \"config/application.*.yaml\",\n        // local\n        \"schema/auto-unpack-schema.json\": \"config/application.yaml\",\n        \"schema/auto-unpack-flow-schema.json\": \"config/application.*.yaml\",\n    },\n}\n</code></pre>"},{"location":"schema/#json-schema_1","title":"\u6784\u5efa JSON Schema","text":"<p>\u6ce8\u610f\u4e8b\u9879</p> <p>\u9ed8\u8ba4\u7684 JSON Schema \u53ea\u5305\u542b\u5185\u7f6e\u63d2\u4ef6\u7684\u914d\u7f6e\u9879\uff0c\u5982\u679c\u9700\u8981\u6dfb\u52a0\u81ea\u5b9a\u4e49\u63d2\u4ef6\u7684\u914d\u7f6e\u9879\uff0c\u53ef\u4ee5\u6839\u636e\u9700\u8981\u4fee\u6539\u7136\u540e\u91cd\u65b0\u6784\u5efa\u3002</p> \u901a\u8fc7\u811a\u624b\u67b6\u5de5\u5177\u6784\u5efa\u901a\u8fc7\u7f16\u5199\u4ee3\u7801\u6784\u5efa <pre><code># auto-unpack schema -h \u67e5\u770b\u5e2e\u52a9\n\n# \u63d2\u4ef6\u8def\u5f84\u53ef\u4ee5\u591a\u4e2a\uff0c\u8def\u5f84\u53ef\u4ee5\u662f\u6587\u4ef6\u5939\u6216\u6587\u4ef6\n# \u4f8b\u5982\uff1aauto-unpack schema plugins/ print.py\nauto-unpack schema plugins\n\n# \u5ffd\u7565\u5185\u7f6e\u63d2\u4ef6\uff0c\u9ed8\u8ba4\uff1aFalse\nauto-unpack schema plugins -i\n\n# \u8f93\u51fa\u5230\u6307\u5b9a\u6587\u4ef6\uff0c\u9ed8\u8ba4\uff1aschema/auto-unpack-flow-schema.json\nauto-unpack schema plugins -o schema.json\n</code></pre> <pre><code>import json\nimport logging\nfrom pathlib import Path\nfrom typing import Literal\n\nfrom pydantic import Field\n\nfrom auto_unpack.plugin import PluginConfig, Plugin, PluginManager\nfrom auto_unpack import constant, schema\nfrom auto_unpack.util import file\n\n\nclass PrintPluginConfig(PluginConfig):\n    \"\"\"\n    \u6253\u5370\u63d2\u4ef6\u914d\u7f6e\n    \"\"\"\n    name: Literal[\"print\"] = Field(\n        default=\"print\",\n        description=\"\u6253\u5370\u63d2\u4ef6\"\n    )\n    ...\n\n\nclass PrintPlugin(Plugin[PrintPluginConfig]):\n    \"\"\"\n    \u6253\u5370\u63d2\u4ef6\n    \"\"\"\n    name: str = \"print\"\n    ...\n\n\nif __name__ == '__main__':\n    # \u63d2\u4ef6\u7ba1\u7406\n    plugin_manager = PluginManager()\n    # \u6dfb\u52a0\u5185\u7f6e\u63d2\u4ef6\n    plugin_manager.load_plugin(constant.BUILTIN_PLUGINS_DIR)\n    # \u901a\u8fc7\u6587\u4ef6\u5939\u6dfb\u52a0\u63d2\u4ef6\n    # plugin_manager.load_plugin(Path('plugins'))\n    # \u901a\u8fc7\u6587\u4ef6\u6dfb\u52a0\u63d2\u4ef6\n    # plugin_manager.load_plugin(Path('plugins/print.py'))\n    # \u6dfb\u52a0\u81ea\u5df1\u65b0\u63d2\u4ef6\n    plugin_manager.load_plugin_by_class(PrintPluginConfig, PrintPlugin)\n\n    # auto-unpack-flow-schema.json\n    flow_schema_dict = schema.generate_flow_schema(\n        plugin_manager=plugin_manager\n    )\n\n    flow_schema = json.dumps(flow_schema_dict, indent=4, ensure_ascii=False)\n    file.write_file(Path('auto-unpack-flow-schema.json'), flow_schema)\n\n    # auto-unpack-schema.json\n    # flow_config_dict = schema.generate_config_schema()\n\n    # config_schema = json.dumps(flow_config_dict, indent=4, ensure_ascii=False)\n    # file.write_file(Path('auto-unpack-schema.json'), config_schema)\n</code></pre>"},{"location":"start/","title":"\u5feb\u901f\u5f00\u59cb","text":""},{"location":"start/#_2","title":"\u5b89\u88c5\u4f9d\u8d56","text":"RyePypi <pre><code>rye add auto-unpack\n</code></pre> <pre><code>pip install auto-unpack\n</code></pre>"},{"location":"start/#_3","title":"\u521d\u59cb\u9879\u76ee","text":"<p>\u5229\u7528\u811a\u624b\u67b6\u5de5\u5177 <code>auto-unpack</code> \u521d\u59cb\u5316\u9879\u76ee</p> <pre><code># auto-unpack -h \u67e5\u770b\u5e2e\u52a9\nauto-unpack init [project_path]\n</code></pre> <pre><code>D:\\Test\\test&gt;auto-unpack init .\n[?] \u8bf7\u8f93\u5165\u521d\u59cb\u5316\u9879\u76ee\u76ee\u5f55: .\n[?] \u8bf7\u9009\u62e9\u6a21\u677f:\n &gt; \u7b80\u5355\u9879\u76ee\u6a21\u677f\n   \u81ea\u5b9a\u4e49\u63d2\u4ef6\u6a21\u677f\n   \u540e\u53f0\u670d\u52a1\u6a21\u677f\n\nInitialized finished!\n\n  cd .\n  rye sync\n</code></pre>"},{"location":"start/#_4","title":"\u8fd0\u884c\u9879\u76ee","text":"<p>\u6ce8\u610f</p> <p>\u6a21\u677f\u4f7f\u7528 Rye \u4f5c\u4e3a\u7ba1\u7406\u5de5\u5177\uff0c\u82e5\u662f\u4e0d\u60f3\u4f7f\u7528 Rye\uff0c\u53ef\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u8fd0\u884c\u9879\u76ee\uff1a</p> <pre><code># \u5b89\u88c5\u4f9d\u8d56\npip install -r requirements.lock\n# \u8fd0\u884c\u9879\u76ee\npython -m app\n</code></pre> <pre><code>cd .\n# \u5b89\u88c5\u4f9d\u8d56\nrye sync\n# \u8fd0\u884c\u9879\u76ee\nrye run start\n</code></pre>"},{"location":"examples/base/","title":"\u89e3\u538b\u666e\u901a\u538b\u7f29\u5305","text":"<p>\u573a\u666f\u4ecb\u7ecd</p> <p>\u626b\u63cf\u8def\u5f84 archive/base \u4e0b\u6240\u6709\u538b\u7f29\u5305\uff0c\u89e3\u538b\u8f93\u51fa\u5230\u76ee\u5f55 output\uff0c\u5e76\u5c06\u89e3\u538b\u4fe1\u606f\u4fdd\u5b58\u81f3 info/extract.json\u3002</p>"},{"location":"examples/base/#_2","title":"\u5904\u7406\u6d41\u7a0b","text":"<pre><code># \u89e3\u538b\u666e\u901a\u538b\u7f29\u5305\u6d41\u7a0b\n\nflow:\n  steps:\n    # \u626b\u63cf\u538b\u7f29\u5305\n    - name: scan\n      # \u626b\u63cf\u8def\u5f84\n      dir: archive/base\n\n    # \u89e3\u538b\u538b\u7f29\u5305\n    - name: archive\n      # \u89e3\u538b\u6a21\u5f0f\n      mode: extract\n      # \u538b\u7f29\u6587\u4ef6\u4fdd\u5b58\u76ee\u5f55\n      output_dir: output\n      # \u89e3\u538b\u7edf\u8ba1\u4fe1\u606f info/extract.json\n      stat_file_name: extract\n</code></pre>"},{"location":"examples/loop/","title":"\u89e3\u538b\u5d4c\u5957\u538b\u7f29\u5305","text":"<p>\u573a\u666f\u4ecb\u7ecd</p> <p>\u626b\u63cf\u8def\u5f84 archive/loop \u4e0b\u6240\u6709\u5d4c\u5957\u538b\u7f29\u5305\uff0c\u89e3\u538b\u8f93\u51fa\u5230\u76ee\u5f55 output\u3002</p>"},{"location":"examples/loop/#_2","title":"\u5904\u7406\u6d41\u7a0b","text":"<pre><code># \u89e3\u538b\u5d4c\u5957\u538b\u7f29\u5305\u6d41\u7a0b\n# \u6ce8\u610f: \u5faa\u73af\u6d41\u7a0b\u8bf7\u8c28\u614e\u4f7f\u7528, \u9632\u6b62\u6b7b\u5faa\u73af\n\nflow:\n  steps:\n    # \u5c06\u538b\u7f29\u5305\u62f7\u8d1d\u5230output\u76ee\u5f55\n    - name: scan\n      dir: archive/loop\n    - name: transfer\n      mode: copy\n      keep_structure: false\n      target_dir: output\n\n    # \u5faa\u73af\u5904\u7406output\u76ee\u5f55\u4e0b\u7684\u6587\u4ef6\n    - name: scan\n      dir: output\n    # \u5faa\u73af\u7ed3\u675f\u6761\u4ef6:\n    # \u4e0a\u4e0b\u6587\u4e2d\u6587\u4ef6\u6570\u91cf\u4e3a0\u65f6\u7ed3\u675f\u5faa\u73af\n    - name: loop\n      # \u6700\u5927\u5faa\u73af\u6b21\u6570, \u9632\u6b62\u610f\u5916\u6b7b\u5faa\u73af\n      max_loops: 10\n      # \u6267\u884c\u6b65\u9aa4 \u540c: flow.steps \u4e00\u6837\n      steps:\n        # \u89e3\u538b\u6587\u4ef6\n        - name: archive\n          mode: extract\n          target_dir: output\n          stat_file_name: extract\n\n        # \u5220\u9664\u89e3\u538b\u6210\u529f\u7684\u6587\u4ef6\n        # \u8fd9\u91cc\u9700\u8981\u5c06\u5df2\u7ecf\u89e3\u538b\u7684\u6587\u4ef6\u79fb\u5230\u5176\u4ed6\u76ee\u5f55/\u5220\u9664\n        # \u9632\u6b62\u5faa\u73af\u4e2d\u91cd\u590d\u89e3\u538b\n        - name: remove\n\n        # \u6e05\u7406\u7a7a\u6587\u4ef6\u5939\n        - name: empty\n          dir: output\n\n        # \u518d\u6b21\u91cd\u65b0\u626b\u63cfoutput\u76ee\u5f55, \u5e76\u8bc6\u522b\u662f\u5426\u6709\u65b0\u7684\u538b\u7f29\u5305\n        - name: scan\n          dir: output\n        - name: archive\n          mode: list\n</code></pre>"},{"location":"examples/rename/","title":"\u6587\u4ef6\u91cd\u547d\u540d","text":"<p>\u573a\u666f\u4ecb\u7ecd</p> <p>\u90e8\u5206\u5206\u5377\u538b\u7f29\u7684\u538b\u7f29\u5305\uff0c\u6587\u4ef6\u540d\u4e2d\u4f1a\u5305\u542b\u591a\u4f59\u7684\u6587\u5b57\uff0c\u9700\u8981\u91cd\u547d\u540d\u624d\u80fd\u6b63\u786e\u89e3\u538b\u3002</p> <p>\u4f8b\u5982</p> <p><code>\u6539\u540d\u524d</code>\uff1aicon-v.7z.001, icon-v.7z.002\u5220\u9664, icon-v.7z.003\u5220\u9664 <code>\u6539\u540d\u540e</code>\uff1aicon-v.7z.001, icon-v.7z.002, icon-v.7z.003</p>"},{"location":"examples/rename/#_2","title":"\u5904\u7406\u6d41\u7a0b","text":"<pre><code># \u6587\u4ef6\u91cd\u547d\u540d\u6d41\u7a0b\n\nflow:\n  steps:\n    # \u590d\u5236\u538b\u7f29\u5305\u5230\u8f93\u51fa\u76ee\u5f55\n    - name: scan\n      dir: archive/rename\n    - name: transfer\n      mode: copy\n      target_dir: output/rename\n\n    # \u626b\u63cf\u5e76\u91cd\u547d\u540d\u538b\u7f29\u5305\n    - name: scan\n      dir: output/rename\n    - name: rename\n      rules:\n        - mode: replace\n          replace: \"\"\n          search: \u5220\u9664\n\n    # \u89e3\u538b\u538b\u7f29\u5305\n    - name: archive\n      # \u89e3\u538b\u6a21\u5f0f\n      mode: extract\n      # \u538b\u7f29\u6587\u4ef6\u4fdd\u5b58\u76ee\u5f55\n      output_dir: output\n      # \u89e3\u538b\u7edf\u8ba1\u4fe1\u606f info/extract.json\n      stat_file_name: extract\n</code></pre>"},{"location":"plugins/custom/","title":"\u81ea\u5b9a\u4e49\u63d2\u4ef6","text":"<p>\u9664\u4e86\u9ed8\u8ba4\u7684\u5185\u7f6e\u63d2\u4ef6\u5916\uff0c\u4f60\u8fd8\u53ef\u4ee5\u7f16\u5199\u81ea\u5df1\u7684\u63d2\u4ef6\u3002</p> <p>\u63d0\u793a</p> <p>\u4e0b\u9762\u5c06\u4ee5\u7f16\u5199\u4e00\u4e2a\u6253\u5370\u63d2\u4ef6\u4e3a\u4f8b\uff0c\u4ecb\u7ecd\u5982\u4f55\u7f16\u5199\u4e00\u4e2a\u81ea\u5b9a\u4e49\u63d2\u4ef6\u3002\u4e5f\u53ef\u4ee5\u76f4\u63a5\u53c2\u8003 \u81ea\u5b9a\u4e49\u63d2\u4ef6\u6a21\u677f\u9879\u76ee\u3002</p>"},{"location":"plugins/custom/#_2","title":"\u63d2\u4ef6\u76ee\u5f55","text":"<p>\u9879\u76ee\u4e0b\u6dfb\u52a0 <code>plugins</code> \u76ee\u5f55</p> <pre><code>mkdir plugins\n</code></pre>"},{"location":"plugins/custom/#_3","title":"\u7f16\u5199\u63d2\u4ef6","text":"<p><code>plugins/print.py</code></p> <pre><code>import logging\nfrom typing import Literal\n\nfrom pydantic import Field\n\nfrom auto_unpack.plugin import Plugin, PluginConfig\n\nlogger = logging.getLogger(__name__)\n\n\nclass PrintPluginConfig(PluginConfig):\n    \"\"\"\n    \u6253\u5370\u63d2\u4ef6\u914d\u7f6e\n    \"\"\"\n    name: Literal[\"print\"] = Field(\n        default=\"print\",\n        description=\"\u6253\u5370\u63d2\u4ef6\"\n    )\n    message: str = Field(\n        default=\"Hello, world!\",\n        description=\"\u6253\u5370\u7684\u6d88\u606f\"\n    )\n\n\nclass PrintPlugin(Plugin[PrintPluginConfig]):\n    \"\"\"\n    \u6253\u5370\u63d2\u4ef6\n    \"\"\"\n    name: str = \"print\"\n\n    def init(self):\n        \"\"\"\n        \u521d\u59cb\u5316\u6253\u5370\u63d2\u4ef6\n        \"\"\"\n        logger.debug(\"init print plugin\")\n\n    def execute(self):\n        \"\"\"\n        \u6267\u884c\u6253\u5370\u63d2\u4ef6\n        \"\"\"\n        logger.info(self.config.message)\n</code></pre>"},{"location":"plugins/custom/#_4","title":"\u6dfb\u52a0\u63d2\u4ef6","text":"<p>\u63d2\u4ef6\u6dfb\u52a0\u65b9\u5f0f\u591a\u6837\uff0c\u4ee5\u4e0b\u65b9\u5f0f\u4efb\u9009\u5176\u4e00\u5373\u53ef\u3002</p> \u914d\u7f6e\u6587\u4ef6\u6dfb\u52a0\u4ee3\u7801\u6dfb\u52a0 <p><code>config/application.yaml</code></p> <pre><code>app:\n  # \u6dfb\u52a0\u81ea\u5b9a\u4e49\u63d2\u4ef6\u76ee\u5f55\n  plugins_dir: plugins\n</code></pre> <p><code>app/__main__.py</code></p> <pre><code>from pathlib import Path\n\nfrom auto_unpack import App\nfrom ..plugins.print import PluginConfig, PrintPlugin\n\nif __name__ == '__main__':\n    app = App()\n    # \u901a\u8fc7\u76ee\u5f55\u52a0\u8f7d\u63d2\u4ef6\n    app.load_plugin(Path(\"plugins\"))\n    # \u901a\u8fc7\u6587\u4ef6\u52a0\u8f7d\u63d2\u4ef6\n    app.load_plugin(Path(\"plugins/print.py\"))\n    # \u901a\u8fc7\u7c7b\u52a0\u8f7d\u63d2\u4ef6\n    app.load_plugin_by_class(PluginConfig, PrintPlugin)\n    app.run()\n</code></pre>"},{"location":"plugins/custom/#_5","title":"\u4f7f\u7528\u63d2\u4ef6","text":"<p><code>config/application.prod.yaml</code></p> <pre><code>flow:\n  steps:\n    - name: print\n      message: \"Hello, world!\"\n</code></pre>"},{"location":"plugins/custom/#_6","title":"\u6784\u5efa\u7ea6\u675f","text":"<p>\u81ea\u5b9a\u4e49\u63d2\u4ef6\u53ef\u4ee5\u6784\u5efa\u7ea6\u675f\uff0c\u4ee5\u786e\u4fdd\u63d2\u4ef6\u7684\u914d\u7f6e\u7b26\u5408\u9884\u671f\u3002</p> <p>\u6784\u5efa JSON Schema</p>"},{"location":"plugins/builtin/archive/","title":"Archive","text":"<p>Archive \u63d2\u4ef6</p> <p>Archive \u63d2\u4ef6\u7528\u4e8e\u5904\u7406\u538b\u7f29\u5305\u6587\u4ef6\uff0c\u5305\u62ec\u8bc6\u522b\u3001\u6d4b\u8bd5\u3001\u89e3\u538b\u7b49\u64cd\u4f5c\u3002</p>"},{"location":"plugins/builtin/archive/#_1","title":"\u4e0a\u4e0b\u6587","text":"\u4e0a\u4e0b\u6587 \u7c7b\u578b \u63cf\u8ff0 \u9ed8\u8ba4\u503c <code>load_key</code> str \u8981\u5904\u7406\u7684\u6587\u4ef6\u5217\u8868 <code>'default'</code> <code>save_key</code> str \u5904\u7406\u6210\u529f\u7684\u6587\u4ef6\u5217\u8868 <code>'default'</code> <code>fail_key</code> str \u5904\u7406\u5931\u8d25\u7684\u6587\u4ef6\u5217\u8868 \u65e0"},{"location":"plugins/builtin/archive/#_2","title":"\u914d\u7f6e","text":""},{"location":"plugins/builtin/archive/#archivepluginconfig","title":"ArchivePluginConfig","text":"<p>ArchivePluginConfig</p> <p><code>auto_unpack.plugins.archive.ArchivePluginConfig</code></p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 \u9ed8\u8ba4\u503c <code>name</code> Literal['archive'] \u63d2\u4ef6\u540d\u79f0\uff0c\u56fa\u5b9a\u4e3a <code>'archive'</code> <code>'archive'</code> <code>mode</code> Literal['list', 'extract', 'test'] \u538b\u7f29\u5305\u5904\u7406\u6a21\u5f0f<code>list</code>: \u5217\u51fa\u538b\u7f29\u5305\u5185\u6587\u4ef6\u4fe1\u606f<code>extract</code>: \u89e3\u538b\u538b\u7f29\u5305<code>test</code>: \u6d4b\u8bd5\u538b\u7f29\u5305\u5b8c\u6574\u6027 <code>'extract'</code> <code>password_path</code> Path \u5bc6\u7801\u8868\u6587\u4ef6\u8def\u5f84 \u5bc6\u7801\u8868\u89c4\u5219 <code>'passwords.txt'</code> <code>stat_file_name</code> Optional[str] \u7edf\u8ba1\u4fe1\u606f\u6587\u4ef6\u540d\uff0c\u4e0d\u540c\u6a21\u5f0f\u5bf9\u5e94\u4e0d\u540c\u7edf\u8ba1\u4fe1\u606f \u65e0 <code>thread_max</code> int \u7ebf\u7a0b\u6c60\u6700\u5927\u7ebf\u7a0b\u6570 10 <code>result_processing_mode</code> Literal['strict', 'greedy'] \u7ed3\u679c\u5904\u7406\u6a21\u5f0f<code>strict</code>\uff1a\u4e25\u683c\u6a21\u5f0f\uff0c\u7ed3\u679c\u7edd\u5bf9\u4f9d\u9760 7-zip \u547d\u4ee4\u884c\u8f93\u51fa<code>greedy</code>\uff1a\u8d2a\u5a6a\u6a21\u5f0f\uff0c7-zip \u8fd4\u56de\u67d0\u4e9b\u9519\u8bef\u7801\u65f6\uff0c\u4e5f\u4f1a\u5c1d\u8bd5\u8bc6\u522b/\u6d4b\u8bd5/\u89e3\u538b <code>'strict'</code> <code>output_dir</code><code>mode=extract\u53ef\u7528</code> Path \u538b\u7f29\u5305\u5b58\u653e\u76ee\u5f55 <code>'output'</code> <code>keep_dir</code><code>mode=extract\u53ef\u7528</code> bool \u662f\u5426\u4fdd\u6301\u89e3\u538b\u540e\u7684\u6587\u4ef6\u5939\u7ed3\u6784 <code>true</code> <code>\u4e0a\u4e0b\u6587\u5b57\u6bb5\u89c1\u4e0a\u6587</code>"},{"location":"plugins/builtin/archive/#_3","title":"\u5bc6\u7801\u8868\u89c4\u5219","text":"<ol> <li>\u5bc6\u7801\u4e00\u884c\u4e00\u4e2a</li> <li>\u7a7a\u884c\u4e0d\u4f7f\u7528</li> <li>\u5bc6\u7801\u8d8a\u9760\u524d\u7684\u8d8a\u5148\u5c1d\u8bd5</li> <li>\u7b2c\u4e00\u6761\u5206\u5272\u7ebf\u540e\u4e3a\u5bc6\u7801</li> </ol> <p>\u4f8b\u5982\uff1a</p> <pre><code>\u7b2c\u4e00\u6761\u5206\u5272\u7ebf\u524d\u9762\u662f\u6ce8\u91ca\n----------------------------------------\n123456\nabc123\n...\n</code></pre>"},{"location":"plugins/builtin/archive/#_4","title":"\u793a\u4f8b","text":""},{"location":"plugins/builtin/archive/#archive-zip-output","title":"\u89e3\u538b \u6587\u4ef6\u5939 archive \u4e0b\u6240\u6709 zip \u7c7b\u578b\u7684\u538b\u7f29\u5305\u5230 output \u76ee\u5f55","text":"<pre><code>flow:\n  steps:\n    # \u626b\u63cf\u538b\u7f29\u5305\u6587\u4ef6\n    - name: scan\n      dir: archive\n      includes:\n        - \"*.zip\"\n\n    # \u89e3\u538b\u538b\u7f29\u5305\n    - name: archive\n      mode: extract\n      output_dir: output\n      # \u89e3\u538b\u7ed3\u679c\u7edf\u8ba1\n      stat_file_name: stat\n</code></pre>"},{"location":"plugins/builtin/archive/#archive_1","title":"\u8bc6\u522b\u6587\u4ef6\u5939 archive \u4e0b\u7684\u6240\u6709\u538b\u7f29\u5305","text":"<pre><code>flow:\n  steps:\n    # \u626b\u63cf\u538b\u7f29\u5305\u6587\u4ef6\n    - name: scan\n      dir: archive\n\n    # \u8bc6\u522b\u538b\u7f29\u5305\n    - name: archive\n      mode: list\n      # \u8bc6\u522b\u7ed3\u679c\u7edf\u8ba1\n      stat_file_name: stat\n</code></pre>"},{"location":"plugins/builtin/archive/#archive-output","title":"\u5c06\u6587\u4ef6\u5939 archive \u4e0b\u7684\u6240\u6709\u538b\u7f29\u5305\u590d\u5236\u5230 output \u76ee\u5f55","text":"<pre><code>flow:\n  steps:\n    # \u626b\u63cf\u538b\u7f29\u5305\u6587\u4ef6\n    - name: scan\n      dir: archive\n\n    # \u8bc6\u522b\u538b\u7f29\u5305\n    - name: archive\n      mode: list\n      # \u8bc6\u522b\u7ed3\u679c\u7edf\u8ba1\n      stat_file_name: stat\n\n    # \u590d\u5236\u8bc6\u522b\u6210\u529f\u7684\u538b\u7f29\u5305\u5230 output \u76ee\u5f55\n    - name: transfer\n      mode: copy\n      target_dir: output\n</code></pre>"},{"location":"plugins/builtin/archive/#archive_2","title":"\u6d4b\u8bd5\u6587\u4ef6\u5939 archive \u4e0b\u7684\u6240\u6709\u538b\u7f29\u5305","text":"<pre><code>flow:\n  steps:\n    # \u626b\u63cf\u538b\u7f29\u5305\u6587\u4ef6\n    - name: scan\n      dir: archive\n\n    # \u6d4b\u8bd5\u538b\u7f29\u5305\n    - name: archive\n      mode: test\n      # \u6d4b\u8bd5\u7ed3\u679c\u7edf\u8ba1\n      stat_file_name: stat\n</code></pre>"},{"location":"plugins/builtin/empty/","title":"Empty","text":"<p>Empty \u63d2\u4ef6</p> <p>Empty \u63d2\u4ef6\u7528\u4e8e\u5220\u9664\u6307\u5b9a\u76ee\u5f55\u4e0b\u7684\u6240\u6709\u7a7a\u6587\u4ef6\u5939\u3002</p>"},{"location":"plugins/builtin/empty/#_1","title":"\u4e0a\u4e0b\u6587","text":"\u4e0a\u4e0b\u6587 \u7c7b\u578b \u63cf\u8ff0 \u9ed8\u8ba4\u503c"},{"location":"plugins/builtin/empty/#_2","title":"\u914d\u7f6e","text":""},{"location":"plugins/builtin/empty/#emptypluginconfig","title":"EmptyPluginConfig","text":"<p>EmptyPluginConfig</p> <p><code>auto_unpack.plugins.empty.EmptyPluginConfig</code></p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 \u9ed8\u8ba4\u503c <code>name</code> Literal['empty'] \u63d2\u4ef6\u540d\u79f0\uff0c\u56fa\u5b9a\u4e3a <code>'empty'</code> <code>'empty'</code> <code>dir</code> Path \u9700\u8981\u6e05\u7406\u7a7a\u6587\u4ef6\u5939\u7684\u76ee\u5f55 \u65e0 <code>\u4e0a\u4e0b\u6587\u5b57\u6bb5\u89c1\u4e0a\u6587</code>"},{"location":"plugins/builtin/empty/#_3","title":"\u793a\u4f8b","text":""},{"location":"plugins/builtin/empty/#output","title":"\u6e05\u7406\u6587\u4ef6\u5939 output \u4e0b\u7684\u6240\u6709\u7a7a\u6587\u4ef6\u5939","text":"<pre><code>flow:\n  steps:\n    - name: empty\n      dir: output\n</code></pre>"},{"location":"plugins/builtin/flat/","title":"Flat","text":"<p>Flat \u63d2\u4ef6</p> <p>Flat \u63d2\u4ef6\u7528\u4e8e\u6241\u5e73\u5316\u6587\u4ef6\u7ed3\u6784\uff0c\u5373\u5c06\u914d\u7f6e\u5c42\u7ea7\u7684\u6587\u4ef6\u79fb\u52a8\u6839\u76ee\u5f55\u4e0b\u3002</p>"},{"location":"plugins/builtin/flat/#_1","title":"\u4e0a\u4e0b\u6587","text":"\u4e0a\u4e0b\u6587 \u7c7b\u578b \u63cf\u8ff0 \u9ed8\u8ba4\u503c"},{"location":"plugins/builtin/flat/#_2","title":"\u914d\u7f6e","text":""},{"location":"plugins/builtin/flat/#flatpluginconfig","title":"FlatPluginConfig","text":"<p>FlatPluginConfig</p> <p><code>auto_unpack.plugins.empty.FlatPluginConfig</code></p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 \u9ed8\u8ba4\u503c <code>name</code> Literal['flat'] \u63d2\u4ef6\u540d\u79f0\uff0c\u56fa\u5b9a\u4e3a <code>'flat'</code> <code>'flat'</code> <code>dir</code> Path \u9700\u8981\u6241\u5e73\u5316\u7684\u6587\u4ef6\u5939 \u65e0 <code>depth</code> Optional[int] \u6241\u5e73\u5316\u7684\u6df1\u5ea6\uff0cnull\uff1a\u4e0d\u9650\u5236\u6df1\u5ea6 \u65e0 <code>\u4e0a\u4e0b\u6587\u5b57\u6bb5\u89c1\u4e0a\u6587</code>"},{"location":"plugins/builtin/flat/#_3","title":"\u793a\u4f8b","text":""},{"location":"plugins/builtin/flat/#output","title":"\u5c06\u6587\u4ef6\u5939 output \u4e2d\u7684\u6240\u6709\u6587\u4ef6\u79fb\u52a8\u5230\u6839\u76ee\u5f55\u4e0b","text":"<pre><code>output/\n\u251c\u2500\u2500 file1.txt\n\u2514\u2500\u2500 subfolder/\n    \u2514\u2500\u2500 file2.txt\n\n# flat \u540e\n\noutput/\n\u251c\u2500\u2500 file1.txt\n\u251c\u2500\u2500 file2.txt\n\u2514\u2500\u2500 subfolder/\n</code></pre> <pre><code>flow:\n  steps:\n    # \u4f7f\u7528 flat \u63d2\u4ef6\n    - name: flat\n      dir: output\n</code></pre>"},{"location":"plugins/builtin/log/","title":"Log","text":"<p>Log \u63d2\u4ef6</p> <p>Log \u63d2\u4ef6\u7528\u4e8e\u6253\u5370\u4e0a\u4e0b\u6587\u4e2d\u7684\u6587\u4ef6\u4fe1\u606f\u3002</p>"},{"location":"plugins/builtin/log/#_1","title":"\u4e0a\u4e0b\u6587","text":"\u4e0a\u4e0b\u6587 \u7c7b\u578b \u63cf\u8ff0 \u9ed8\u8ba4\u503c <code>load_key</code> str \u8981\u6253\u5370\u7684\u6587\u4ef6\u5217\u8868 <code>'default'</code>"},{"location":"plugins/builtin/log/#_2","title":"\u914d\u7f6e","text":""},{"location":"plugins/builtin/log/#logpluginconfig","title":"LogPluginConfig","text":"<p>LogPluginConfig</p> <p><code>auto_unpack.plugins.log.LogPluginConfig</code></p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 \u9ed8\u8ba4\u503c <code>name</code> Literal['log'] \u63d2\u4ef6\u540d\u79f0\uff0c\u56fa\u5b9a\u4e3a <code>'log'</code> <code>'log'</code> <code>file_name</code> str \u65e5\u5fd7\u6587\u4ef6\u540d <code>'log'</code> <code>print_stats</code> List[Literal['all', 'ctime', 'mtime', 'size']] \u6253\u5370\u6587\u4ef6\u4fe1\u606f\u7684\u5b57\u6bb5<code>all</code>\uff1a\u6240\u6709\u4fe1\u606f<code>ctime</code>\uff1a\u521b\u5efa\u65f6\u95f4<code>mtime</code>\uff1a\u4fee\u6539\u65f6\u95f4<code>size</code>\uff1a\u6587\u4ef6\u5927\u5c0f\uff08\u5b57\u8282\uff09 <code>[]</code> <code>\u4e0a\u4e0b\u6587\u5b57\u6bb5\u89c1\u4e0a\u6587</code>"},{"location":"plugins/builtin/log/#_3","title":"\u793a\u4f8b","text":""},{"location":"plugins/builtin/log/#archive","title":"\u6253\u5370\u6587\u4ef6\u5939 archive \u4e0b\u6240\u6709\u6587\u4ef6\uff0c\u5e76\u4e14\u6253\u5370\u521b\u5efa\u65f6\u95f4\u548c\u4fee\u6539\u65f6\u95f4","text":"<pre><code>flow:\n  steps:\n    - name: scan\n      dir: archive\n    - name: log\n      file_name: log\n      print_stats:\n        - ctime\n        - mtime\n</code></pre>"},{"location":"plugins/builtin/remove/","title":"Remove","text":"<p>Remove \u63d2\u4ef6</p> <p>Remove \u63d2\u4ef6\u7528\u4e8e\u5220\u9664\u6307\u5b9a\u4e0a\u4e0b\u6587\u7684\u6587\u4ef6\u5217\u8868\uff0c\u5220\u9664\u540e\u6e05\u7a7a\u4e0a\u4e0b\u6587\u3002</p>"},{"location":"plugins/builtin/remove/#_1","title":"\u4e0a\u4e0b\u6587","text":"\u4e0a\u4e0b\u6587 \u7c7b\u578b \u63cf\u8ff0 \u9ed8\u8ba4\u503c <code>load_key</code> str \u8981\u5220\u9664\u7684\u6587\u4ef6\u5217\u8868 <code>'default'</code>"},{"location":"plugins/builtin/remove/#_2","title":"\u914d\u7f6e","text":""},{"location":"plugins/builtin/remove/#removepluginconfig","title":"RemovePluginConfig","text":"<p>RemovePluginConfig</p> <p><code>auto_unpack.plugins.remove.RemovePluginConfig</code></p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 \u9ed8\u8ba4\u503c <code>name</code> Literal['remove'] \u63d2\u4ef6\u540d\u79f0\uff0c\u56fa\u5b9a\u4e3a <code>'remove'</code> <code>'remove'</code> <code>\u4e0a\u4e0b\u6587\u5b57\u6bb5\u89c1\u4e0a\u6587</code>"},{"location":"plugins/builtin/remove/#_3","title":"\u793a\u4f8b","text":""},{"location":"plugins/builtin/remove/#output-txt","title":"\u5220\u9664\u6587\u4ef6\u5939 output \u4e0b\u5168\u90e8\u7684 txt \u6587\u4ef6","text":"<pre><code>flow:\n  steps:\n    # \u626b\u63cf output \u6587\u4ef6\u5939\u4e0b\u6240\u6709 txt \u6587\u4ef6\n    - name: scan\n      dir: output\n      includes: \n        - \"*.txt\"\n    # \u5220\u9664\u626b\u63cf\u5230\u7684 txt \u6587\u4ef6\n    - name: remove\n</code></pre>"},{"location":"plugins/builtin/rename/","title":"Rename","text":"<p>Rename \u63d2\u4ef6</p> <p>Rename \u63d2\u4ef6\u7528\u4e8e\u4fee\u6539\u4e0a\u4e0b\u6587\u4e2d\u7684\u6587\u4ef6\u7684\u540d\u79f0\u3002</p>"},{"location":"plugins/builtin/rename/#_1","title":"\u4e0a\u4e0b\u6587","text":"\u4e0a\u4e0b\u6587 \u7c7b\u578b \u63cf\u8ff0 \u9ed8\u8ba4\u503c <code>load_key</code> str \u8981\u6539\u540d\u7684\u6587\u4ef6\u5217\u8868 <code>'default'</code> <code>save_key</code> str \u6539\u540d\u540e\u7684\u6587\u4ef6\u5217\u8868 <code>'default'</code>"},{"location":"plugins/builtin/rename/#_2","title":"\u914d\u7f6e","text":""},{"location":"plugins/builtin/rename/#renamepluginconfig","title":"RenamePluginConfig","text":"<p>RenamePluginConfig</p> <p><code>auto_unpack.plugins.rename.RenamePluginConfig</code></p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 \u9ed8\u8ba4\u503c <code>name</code> Literal['rename'] \u63d2\u4ef6\u540d\u79f0\uff0c\u56fa\u5b9a\u4e3a <code>'rename'</code> <code>'rename'</code> <code>rules</code> List[Union[ReplaceRule, ReRule]] \u6539\u540d\u89c4\u5219 <code>[]</code> <code>\u4e0a\u4e0b\u6587\u5b57\u6bb5\u89c1\u4e0a\u6587</code>"},{"location":"plugins/builtin/rename/#replacerule","title":"ReplaceRule","text":"<p>ReplaceRule</p> <p><code>auto_unpack.plugins.rename.ReplaceRule</code></p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 \u9ed8\u8ba4\u503c <code>mode</code> Literal['replace'] \u66ff\u6362\u89c4\u5219\uff0c\u56fa\u5b9a\u4e3a <code>'replace'</code> <code>'replace'</code> <code>search</code> str \u5339\u914d\u5b57\u7b26\u4e32 \u65e0 <code>replace</code> str \u66ff\u6362\u5b57\u7b26\u4e32 \u65e0 <code>count</code> int \u66ff\u6362\u6b21\u6570\uff0c-1 \u8868\u793a\u5168\u90e8\u66ff\u6362 <code>-1</code>"},{"location":"plugins/builtin/rename/#rerule","title":"ReRule","text":"<p>ReRule</p> <p><code>auto_unpack.plugins.rename.ReRule</code></p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 \u9ed8\u8ba4\u503c <code>mode</code> Literal['re'] \u6b63\u5219\u89c4\u5219\uff0c\u56fa\u5b9a\u4e3a <code>'re'</code> <code>'re'</code> <code>pattern</code> str \u6b63\u5219\u8868\u8fbe\u5f0f \u65e0 <code>replace</code> str \u66ff\u6362\u5b57\u7b26\u4e32 \u65e0 <code>count</code> int \u66ff\u6362\u6b21\u6570\uff0c0\uff1a\u4e0d\u9650\u6b21\u6570 <code>0</code> <code>flags</code> str \u6b63\u5219\u8868\u8fbe\u5f0f\u5339\u914d\u6a21\u5f0f<code>a</code>\uff1aASCII \u5339\u914d\u6a21\u5f0f<code>i</code>\uff1a\u5ffd\u7565\u5927\u5c0f\u5199<code>u</code>\uff1aUnicode \u5339\u914d\u6a21\u5f0f\u4f8b\u5982\uff1a<code>iu</code> [\u5ffd\u7565\u5927\u5c0f\u5199\u3001\u5339\u914d Unicode \u5b57\u7b26] <code>''</code>"},{"location":"plugins/builtin/rename/#_3","title":"\u793a\u4f8b","text":""},{"location":"plugins/builtin/rename/#_4","title":"\u5220\u9664\u6587\u4ef6\u540d\u4e2d\u7684 '\u5220\u9664' \u5b57\u6837","text":"<pre><code>flow:\n  steps:\n    # \u626b\u63cf output \u6587\u4ef6\u5939\u4e0b\u6240\u6709\u6587\u4ef6\n    - name: scan\n      dir: output\n\n    # \u6539\u540d\n    - name: rename\n      rules:\n        - mode: re\n          pattern: \u5220\u9664\n          replace: \"\"\n</code></pre>"},{"location":"plugins/builtin/rename/#_5","title":"\u5c06\u6587\u4ef6\u6309\u65b0\u89c4\u5219\u91cd\u65b0\u547d\u540d","text":"<p>\u4f8b\u5982\uff1a<code>[test][2021_01_01].txt</code> \u6539\u4e3a <code>test-2021_01_01.txt</code></p> <pre><code>flow:\n  steps:\n    # \u626b\u63cf output \u6587\u4ef6\u5939\u4e0b\u6240\u6709\u6587\u4ef6\n    - name: scan\n      dir: output\n\n    # \u6539\u540d\n    - name: rename\n      rules:\n        - mode: re\n          pattern: \\[(\\w+)\\]\\[(.*)\\]\\.(\\w+)\n          replace: \\1-\\2.\\3\n</code></pre>"},{"location":"plugins/builtin/scan/","title":"Scan","text":"<p>Scan \u63d2\u4ef6</p> <p>Scan \u63d2\u4ef6\u7528\u4e8e\u626b\u63cf\u6307\u5b9a\u76ee\u5f55\u4e0b\u7684\u6587\u4ef6\uff0c\u5c06\u7b26\u5408\u6761\u4ef6\u7684\u6587\u4ef6\u4fdd\u5b58\u81f3\u4e0a\u4e0b\u6587\u4ee5\u4f9b\u540e\u7eed\u6b65\u9aa4\u4f7f\u7528\u3002</p>"},{"location":"plugins/builtin/scan/#_1","title":"\u4e0a\u4e0b\u6587","text":"\u4e0a\u4e0b\u6587 \u7c7b\u578b \u63cf\u8ff0 \u9ed8\u8ba4\u503c <code>save_key</code> str \u626b\u63cf\u5230\u7684\u6587\u4ef6\u5217\u8868 <code>'default'</code>"},{"location":"plugins/builtin/scan/#_2","title":"\u914d\u7f6e","text":""},{"location":"plugins/builtin/scan/#scanpluginconfig","title":"ScanPluginConfig","text":"<p>ScanPluginConfig</p> <p><code>auto_unpack.plugins.scan.ScanPluginConfig</code></p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 \u9ed8\u8ba4\u503c <code>name</code> Literal['scan'] \u63d2\u4ef6\u540d\u79f0\uff0c\u56fa\u5b9a\u4e3a <code>'scan'</code> <code>'scan'</code> <code>dir</code> Path \u626b\u63cf\u76ee\u5f55 \u65e0 <code>includes</code> List[str] \u5305\u542b\u7684\u6587\u4ef6\u8def\u5f84\u5217\u8868\uff0cglob \u8868\u8fbe\u5f0f <code>['**/*']</code> <code>excludes</code> List[str] \u6392\u9664\u7684\u6587\u4ef6\u8def\u5f84\u5217\u8868\uff0cglob \u8868\u8fbe\u5f0f <code>[]</code> <code>include_dir</code> bool \u662f\u5426\u5305\u542b\u6587\u4ef6\u5939 <code>false</code> <code>deep</code> bool \u662f\u5426\u9012\u5f52\u626b\u63cf\u5b50\u76ee\u5f55 <code>true</code> <code>\u4e0a\u4e0b\u6587\u5b57\u6bb5\u89c1\u4e0a\u6587</code>"},{"location":"plugins/builtin/scan/#_3","title":"\u793a\u4f8b","text":""},{"location":"plugins/builtin/scan/#archive-zip","title":"\u626b\u63cf\u6587\u4ef6\u5939 archive \u4e0b\u6240\u6709 zip \u6587\u4ef6","text":"<pre><code>flow:\n  steps:\n    # \u626b\u63cf output \u6587\u4ef6\u5939\u4e0b\u6240\u6709 zip \u6587\u4ef6\n    - name: scan\n      dir: archive\n      includes:\n        - \"*.zip\"\n\n    # \u6253\u5370\u626b\u63cf\u5230\u7684\u6587\u4ef6\n    - name: log\n      file_name: zip_files\n</code></pre>"},{"location":"plugins/builtin/transfer/","title":"Transfer","text":"<p>Transfer \u63d2\u4ef6</p> <p>Transfer \u63d2\u4ef6\u7528\u4e8e\u8f6c\u79fb\u4e0a\u4e0b\u6587\u4e2d\u7684\u6587\u4ef6\u5217\u8868\u3002</p>"},{"location":"plugins/builtin/transfer/#_1","title":"\u4e0a\u4e0b\u6587","text":"\u4e0a\u4e0b\u6587 \u7c7b\u578b \u63cf\u8ff0 \u9ed8\u8ba4\u503c <code>load_key</code> str \u8981\u8f6c\u79fb\u7684\u6587\u4ef6\u5217\u8868 <code>'default'</code> <code>save_key</code> str \u8f6c\u79fb\u540e\u7684\u6587\u4ef6\u5217\u8868 <code>'default'</code>"},{"location":"plugins/builtin/transfer/#_2","title":"\u914d\u7f6e","text":""},{"location":"plugins/builtin/transfer/#transferpluginconfig","title":"TransferPluginConfig","text":"<p>TransferPluginConfig</p> <p><code>auto_unpack.plugins.transfer.TransferPluginConfig</code></p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 \u9ed8\u8ba4\u503c <code>name</code> Literal['transfer'] \u63d2\u4ef6\u540d\u79f0\uff0c\u56fa\u5b9a\u4e3a <code>'transfer'</code> <code>'transfer'</code> <code>mode</code> Literal['move', 'copy'] \u8f6c\u79fb\u6a21\u5f0f<code>move</code>\uff1a\u79fb\u52a8<code>copy</code>\uff1a\u590d\u5236 \u65e0 <code>target_dir</code> Path \u76ee\u6807\u8def\u5f84 \u65e0 <code>keep_structure</code> bool \u662f\u5426\u4fdd\u6301\u76ee\u5f55\u7ed3\u6784\uff0c\u76f8\u5bf9\u4e8e\u626b\u63cf\u8def\u5f84 <code>true</code> <code>overwrite_mode</code> Literal['rename', 'overwrite', 'skip'] \u8986\u76d6\u6a21\u5f0f<code>rename</code>\uff1a\u91cd\u547d\u540d<code>overwrite</code>\uff1a\u8986\u76d6<code>skip</code>\uff1a\u8df3\u8fc7 <code>'rename'</code> <code>\u4e0a\u4e0b\u6587\u5b57\u6bb5\u89c1\u4e0a\u6587</code>"},{"location":"plugins/builtin/transfer/#_3","title":"\u793a\u4f8b","text":""},{"location":"plugins/builtin/transfer/#archive-output","title":"\u5c06\u6587\u4ef6\u5939 archive \u4e2d\u7684\u6240\u6709\u6587\u4ef6\u590d\u5236\u5230 output \u6587\u4ef6\u5939\u4e0b","text":"<pre><code>flow:\n  steps:\n    # \u626b\u63cf archive \u6587\u4ef6\u5939\n    - name: scan\n      dir: archive\n\n    # \u5c06\u626b\u63cf\u7684\u6587\u4ef6\u590d\u5236\u5230 output \u6587\u4ef6\u5939\u4e0b\n    - name: transfer\n      mode: copy\n      target_dir: output\n</code></pre>"},{"location":"plugins/builtin/control/filter/","title":"Filter","text":"<p>Filter \u63d2\u4ef6</p> <p>Filter \u63d2\u4ef6\u4f9d\u7167\u914d\u7f6e\u8fc7\u6ee4\u7b5b\u9009\u4e0a\u4e0b\u6587\u4e2d\u7684\u6587\u4ef6\u5217\u8868\uff0c\u5e76\u5c06\u7b26\u5408\u6761\u4ef6\u7684\u6587\u4ef6\u5217\u8868\u4fdd\u5b58\u5230\u4e0a\u4e0b\u6587\u4ee5\u4f9b\u540e\u7eed\u6b65\u9aa4\u4f7f\u7528\u3002</p>"},{"location":"plugins/builtin/control/filter/#_1","title":"\u4e0a\u4e0b\u6587","text":"\u4e0a\u4e0b\u6587 \u7c7b\u578b \u63cf\u8ff0 \u9ed8\u8ba4\u503c <code>load_key</code> str \u9700\u8981\u8fc7\u6ee4\u7684\u6587\u4ef6\u5217\u8868 <code>'default'</code> <code>save_key</code> str \u8fc7\u6ee4\u540e\u4fdd\u7559\u7684\u6587\u4ef6\u5217\u8868 <code>'default'</code> <code>exclude_key</code> Optional[str] \u8fc7\u6ee4\u540e\u6392\u9664\u7684\u6587\u4ef6\u5217\u8868 \u65e0"},{"location":"plugins/builtin/control/filter/#_2","title":"\u914d\u7f6e","text":""},{"location":"plugins/builtin/control/filter/#filterpluginconfig","title":"FilterPluginConfig","text":"<p>FilterPluginConfig</p> <p><code>auto_unpack.plugins.control.filter.FilterPluginConfig</code></p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 \u9ed8\u8ba4\u503c <code>name</code> Literal['filter'] \u63d2\u4ef6\u540d\u79f0\uff0c\u56fa\u5b9a\u4e3a <code>'filter'</code> <code>'filter'</code> <code>includes</code> <code>\u5e9f\u5f03</code><code>\u8bf7\u4f7f\u7528</code><code>GlobFilter</code> List[str] \u5305\u542b\u7684\u6587\u4ef6\u8def\u5f84\u5217\u8868\uff0cglob \u8868\u8fbe\u5f0f <code>['**/*']</code> <code>excludes</code> <code>\u5e9f\u5f03</code><code>\u8bf7\u4f7f\u7528</code><code>GlobFilter</code> List[str] \u6392\u9664\u7684\u6587\u4ef6\u8def\u5f84\u5217\u8868\uff0cglob \u8868\u8fbe\u5f0f <code>[]</code> <code>rules</code> List[Union[SizeFilter, GlobFilter, CTimeFilter, MTimeFilter]] \u7b5b\u9009\u89c4\u5219 <code>[]</code> <code>\u4e0a\u4e0b\u6587\u5b57\u6bb5\u89c1\u4e0a\u6587</code>"},{"location":"plugins/builtin/control/filter/#sizefilter","title":"SizeFilter","text":"<p>SizeFilter</p> <p><code>auto_unpack.plugins.control.filter.SizeFilter</code> \u6587\u4ef6\u5927\u5c0f\u8fc7\u6ee4\u5668\uff0c\u7528\u4e8e\u7b5b\u9009\u6587\u4ef6\u5927\u5c0f\u6ee1\u8db3\u6761\u4ef6\u7684\u6587\u4ef6\u3002</p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 \u9ed8\u8ba4\u503c <code>mode</code> Literal['size'] \u6587\u4ef6\u5927\u5c0f\u8fc7\u6ee4\uff0c\u56fa\u5b9a\u4e3a <code>'size'</code> <code>'size'</code> <code>size</code> float \u6587\u4ef6\u5927\u5c0f\u9650\u5236 \u65e0 <code>operator</code> Literal['&lt;', '&gt;', '&lt;=', '&gt;=', '==', '!='] \u5927\u5c0f\u6bd4\u8f83\u8fd0\u7b97\u7b26 <code>&gt;=</code> <code>unit</code> Literal['b', 'kb', 'mb', 'gb', 'tb'] \u5355\u4f4d <code>mb</code>"},{"location":"plugins/builtin/control/filter/#globfilter","title":"GlobFilter","text":"<p>GlobFilter</p> <p><code>auto_unpack.plugins.control.filter.GlobFilter</code> \u6587\u4ef6\u8def\u5f84\u8fc7\u6ee4\u5668\uff0c\u7528\u4e8e\u7b5b\u9009\u6587\u4ef6\u8def\u5f84\u6ee1\u8db3\u6761\u4ef6\u7684\u6587\u4ef6\u3002</p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 \u9ed8\u8ba4\u503c <code>mode</code> Literal['glob'] \u6587\u4ef6\u8def\u5f84\u8fc7\u6ee4\uff0c\u56fa\u5b9a\u4e3a <code>'glob'</code> <code>'glob'</code> <code>includes</code> List[str] \u5305\u542b\u7684\u6587\u4ef6\u8def\u5f84\u5217\u8868\uff0cglob \u8868\u8fbe\u5f0f <code>['**/*']</code> <code>excludes</code> List[str] \u6392\u9664\u7684\u6587\u4ef6\u8def\u5f84\u5217\u8868\uff0cglob \u8868\u8fbe\u5f0f <code>[]</code>"},{"location":"plugins/builtin/control/filter/#ctimefilter","title":"CTimeFilter","text":"<p>CTimeFilter</p> <p><code>auto_unpack.plugins.control.filter.CTimeFilter</code> \u521b\u5efa\u65f6\u95f4\u8fc7\u6ee4\u5668\uff0c\u7528\u4e8e\u7b5b\u9009\u6587\u4ef6\u521b\u5efa\u65f6\u95f4\u6ee1\u8db3\u6761\u4ef6\u7684\u6587\u4ef6\u3002</p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 \u9ed8\u8ba4\u503c <code>mode</code> Literal['ctime'] \u521b\u5efa\u65f6\u95f4\u8fc7\u6ee4\uff0c\u56fa\u5b9a\u4e3a <code>'ctime'</code> <code>'ctime'</code> <code>time</code> str \u65f6\u95f4\u9650\u5236(\u683c\u5f0f: RFC3339)\u4f8b\u5982\uff1a2022-01-01T00:00:00Z \u65e0 <code>operator</code> Literal['&lt;', '&gt;', '&lt;=', '&gt;=', '==', '!='] \u5927\u5c0f\u6bd4\u8f83\u8fd0\u7b97\u7b26 <code>&gt;=</code>"},{"location":"plugins/builtin/control/filter/#mtimefilter","title":"MTimeFilter","text":"<p>MTimeFilter</p> <p><code>auto_unpack.plugins.control.filter.MTimeFilter</code> \u4fee\u6539\u65f6\u95f4\u8fc7\u6ee4\u5668\uff0c\u7528\u4e8e\u7b5b\u9009\u6587\u4ef6\u4fee\u6539\u65f6\u95f4\u6ee1\u8db3\u6761\u4ef6\u7684\u6587\u4ef6\u3002</p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 \u9ed8\u8ba4\u503c <code>mode</code> Literal['mtime'] \u4fee\u6539\u65f6\u95f4\u8fc7\u6ee4\uff0c\u56fa\u5b9a\u4e3a <code>'mtime'</code> <code>'mtime'</code> <code>time</code> str \u65f6\u95f4\u9650\u5236(\u683c\u5f0f: RFC3339)\u4f8b\u5982\uff1a2022-01-01T00:00:00Z \u65e0 <code>operator</code> Literal['&lt;', '&gt;', '&lt;=', '&gt;=', '==', '!='] \u5927\u5c0f\u6bd4\u8f83\u8fd0\u7b97\u7b26 <code>&gt;=</code>"},{"location":"plugins/builtin/control/filter/#_3","title":"\u793a\u4f8b","text":""},{"location":"plugins/builtin/control/filter/#1mb-txt-md-readmemd","title":"\u4fdd\u7559\u6587\u4ef6\u5927\u5c0f \u5927\u4e8e\u7b49\u4e8e 1MB \u7684 txt \u548c md \u6587\u4ef6\uff0c\u5e76\u6392\u9664\u540d\u53eb README.md \u6587\u4ef6","text":"<pre><code>flow:\n  steps:\n    - name: scan\n      dir: archive\n    - name: filter\n      rules:\n        - mode: glob\n          includes:\n            - '*.txt'\n            - '*.md'\n          excludes:\n            - 'README.md'\n        - mode: size\n          size: 1.0\n          operator: '&gt;='\n          unit: mb\n</code></pre>"},{"location":"plugins/builtin/control/filter/#2022-01-01","title":"\u6253\u5370 \u6587\u4ef6\u521b\u5efa\u65f6\u95f4 \u5728 2022-01-01 \u4e4b\u540e\u7684\u6587\u4ef6","text":"<pre><code>flow:\n  steps:\n    - name: scan\n      dir: archive\n    - name: filter\n      rules:\n        - mode: ctime\n          time: \"2022-01-01T00:00:00Z\"\n          operator: \"&gt;=\"\n    - name: log\n</code></pre>"},{"location":"plugins/builtin/control/loop/","title":"Loop","text":"<p>Loop \u63d2\u4ef6</p> <p>Loop \u63d2\u4ef6\u7528\u4e8e\u5faa\u73af\u6267\u884c\u6d41\u7a0b\uff0c\u76f4\u5230\u6761\u4ef6\u4e0d\u6ee1\u8db3\u4e3a\u6b62\uff08\u5373\u4e0a\u4e0b\u6587\u4e2d\u7684\u6587\u4ef6\u5217\u8868\u4e3a\u7a7a\u65f6\u7ed3\u675f\u5faa\u73af\uff09\u3002</p>"},{"location":"plugins/builtin/control/loop/#_1","title":"\u4e0a\u4e0b\u6587","text":"\u4e0a\u4e0b\u6587 \u7c7b\u578b \u63cf\u8ff0 \u9ed8\u8ba4\u503c <code>load_key</code> str \u8981\u5faa\u73af\u5904\u7406\u7684\u6587\u4ef6\u5217\u8868 <code>'default'</code>"},{"location":"plugins/builtin/control/loop/#_2","title":"\u914d\u7f6e","text":""},{"location":"plugins/builtin/control/loop/#looppluginconfig","title":"LoopPluginConfig","text":"<p>LoopPluginConfig</p> <p><code>auto_unpack.plugins.control.loop.LoopPluginConfig</code></p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 \u9ed8\u8ba4\u503c <code>name</code> Literal['loop'] \u63d2\u4ef6\u540d\u79f0\uff0c\u56fa\u5b9a\u4e3a <code>'loop'</code> <code>'loop'</code> <code>steps</code> List[Any] \u9700\u8981\u5faa\u73af\u6267\u884c\u7684\u6b65\u9aa4\uff0c\u540c <code>flow.steps</code> \u4e00\u6837 <code>[]</code> <code>max_loops</code> int \u6700\u5927\u5faa\u73af\u6b21\u6570\uff0c-1\uff1a\u4e0d\u9650\u5236 <code>1024</code> <code>loop_interval</code> int \u5faa\u73af\u95f4\u9694\u65f6\u95f4\uff0c\u5355\u4f4d\uff1a\u79d2 <code>1</code> <code>\u4e0a\u4e0b\u6587\u5b57\u6bb5\u89c1\u4e0a\u6587</code>"},{"location":"plugins/builtin/control/loop/#_3","title":"\u793a\u4f8b","text":""},{"location":"plugins/builtin/control/loop/#_4","title":"\u89e3\u538b\u5d4c\u5957\u538b\u7f29\u7684\u6587\u4ef6","text":"<pre><code>flow:\n  steps:\n    # \u5c06\u538b\u7f29\u6587\u4ef6\u62f7\u8d1d\u5230 output \u76ee\u5f55\uff0c\u5e76\u4fdd\u5b58\u5230\u4e0a\u4e0b\u6587\u4e2d\n    - name: scan\n      dir: archive\n    - name: archive\n      mode: list\n    - name: transfer\n      mode: copy\n      target_dir: output\n\n    # \u5faa\u73af\u7ed3\u675f\u6761\u4ef6:\n    # \u4e0a\u4e0b\u6587\u4e2d\u6587\u4ef6\u6570\u91cf\u4e3a0\u65f6\u7ed3\u675f\u5faa\u73af\n    - name: loop\n      # \u6700\u5927\u5faa\u73af\u6b21\u6570, \u9632\u6b62\u610f\u5916\u6b7b\u5faa\u73af\n      max_loops: 10\n      # \u6267\u884c\u6b65\u9aa4 \u540c: flow.steps \u4e00\u6837\n      steps:\n\n        # \u89e3\u538b\u4e0a\u4e0b\u6587\u4e2d\u7684\u538b\u7f29\u6587\u4ef6\uff0c\u5e76\u5c06\u89e3\u538b\u540e\u7684\u6587\u4ef6\u653e\u5230 output \u76ee\u5f55\n        - name: archive\n          mode: extract\n          target_dir: output\n          stat_file_name: extract\n\n        # \u5220\u9664\u89e3\u538b\u6210\u529f\u7684\u538b\u7f29\u5305\n        # \u8fd9\u91cc\u9700\u8981\u5c06\u5df2\u7ecf\u89e3\u538b\u7684\u6587\u4ef6\u79fb\u5230\u5176\u4ed6\u76ee\u5f55/\u5220\u9664\n        # \u9632\u6b62\u5faa\u73af\u4e2d\u91cd\u590d\u89e3\u538b\n        - name: remove\n\n        # \u518d\u6b21\u91cd\u65b0\u626b\u63cf output \u76ee\u5f55, \u5e76\u8bc6\u522b\u662f\u5426\u6709\u65b0\u7684\u538b\u7f29\u5305\n        - name: scan\n          dir: output\n        # \u8fc7\u6ee4\u6389\u666e\u901a\u6587\u4ef6\uff08\u4e5f\u53ef\u901a\u8fc7\u6587\u4ef6\u5927\u5c0f\u7b5b\u9009\uff09\uff0c\u51cf\u5c11\u8bc6\u522b\u538b\u529b\n        - name: filter\n          rules:\n            - mode: glob\n              excludes:\n                - '*.txt'\n                - '*.jpg'\n        - name: archive\n          mode: list\n\n    # \u5faa\u73af\u7ed3\u675f\u540e\uff0c\u6e05\u7406 output \u76ee\u5f55\u4e2d\u7684\u7a7a\u6587\u4ef6\u5939\n    - name: empty\n      dir: output\n</code></pre>"},{"location":"plugins/builtin/control/merge/","title":"Merge","text":"<p>Merge \u63d2\u4ef6</p> <p>Merge \u63d2\u4ef6\u7528\u4e8e\u5408\u5e76\u591a\u4e2a\u4e0a\u4e0b\u6587\u4e2d\u7684\u6587\u4ef6\u5217\u8868\uff0c\u5e76\u4fdd\u5b58\u5230\u65b0\u7684\u4e0a\u4e0b\u6587\u4e2d\u3002</p>"},{"location":"plugins/builtin/control/merge/#_1","title":"\u4e0a\u4e0b\u6587","text":"\u4e0a\u4e0b\u6587 \u7c7b\u578b \u63cf\u8ff0 \u9ed8\u8ba4\u503c <code>save_key</code> str \u5408\u5e76\u540e\u7684\u6587\u4ef6\u5217\u8868 <code>'default'</code> <code>context_keys</code> List[str] \u9700\u8981\u5408\u5e76\u7684\u6587\u4ef6\u5217\u8868\u96c6\u5408 <code>[]</code>"},{"location":"plugins/builtin/control/merge/#_2","title":"\u914d\u7f6e","text":""},{"location":"plugins/builtin/control/merge/#mergepluginconfig","title":"MergePluginConfig","text":"<p>MergePluginConfig</p> <p><code>auto_unpack.plugins.control.merge.MergePluginConfig</code></p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 \u9ed8\u8ba4\u503c <code>name</code> Literal['merge'] \u63d2\u4ef6\u540d\u79f0\uff0c\u56fa\u5b9a\u4e3a <code>'merge'</code> <code>'merge'</code> <code>\u4e0a\u4e0b\u6587\u5b57\u6bb5\u89c1\u4e0a\u6587</code>"},{"location":"plugins/builtin/control/merge/#_3","title":"\u793a\u4f8b","text":""},{"location":"plugins/builtin/control/merge/#txt-md-default","title":"\u5c06\u626b\u63cf\u5230\u7684 txt \u548c md \u6587\u4ef6\u5408\u5e76\u5230 'default' \u4e0a\u4e0b\u6587\u4e2d","text":"<pre><code>flow:\n  steps:\n    # \u626b\u63cf txt \u6587\u4ef6\uff0c\u4fdd\u5b58\u5230 txt_context \u4e0a\u4e0b\u6587\n    - name: scan\n      dir: archive\n      includes:\n        - '*.txt'\n      save_key: txt_context\n\n    # \u65e5\u5fd7\u6253\u5370 txt_context \u4e0a\u4e0b\u6587\u5185\u5bb9\n    - name: log\n      load_key: txt_context\n      file_name: txt_files\n\n    # \u626b\u63cf md \u6587\u4ef6\uff0c\u4fdd\u5b58\u5230 md_context \u4e0a\u4e0b\u6587\n    - name: scan\n      dir: archive\n      includes:\n        - '*.md'\n      save_key: md_context\n\n    # \u65e5\u5fd7\u6253\u5370 md_context \u4e0a\u4e0b\u6587\u5185\u5bb9\n    - name: log\n      load_key: md_context\n      file_name: md_files\n\n    # \u4f7f\u7528 merge \u63d2\u4ef6\u5408\u5e76\u4e24\u4e2a\u4e0a\u4e0b\u6587\u5230\u9ed8\u8ba4\uff08default\uff09\u4e0a\u4e0b\u6587\n    - name: merge\n      # save_key: ...\n      context_keys:\n        - txt_context\n        - md_context\n\n    # \u65e5\u5fd7\u6253\u5370\u5408\u5e76\u540e\u7684\u4e0a\u4e0b\u6587\u5185\u5bb9\n    - name: log\n      file_name: merged\n</code></pre>"},{"location":"plugins/builtin/control/switch/","title":"Switch","text":"<p>Switch \u63d2\u4ef6</p> <p>Switch \u63d2\u4ef6\u7528\u4e8e\u6839\u636e\u6761\u4ef6\u5206\u652f\u7b5b\u9009\u4e0a\u4e0b\u6587\u7684\u6587\u4ef6\u5217\u8868\uff0c\u6ee1\u8db3\u6761\u4ef6\u7684\u6587\u4ef6\u5217\u8868\u5c06\u4fdd\u5b58\u81f3\u5bf9\u5e94\u7684\u4e0a\u4e0b\u6587\uff0c\u672a\u6ee1\u8db3\u6761\u4ef6\u7684\u6587\u4ef6\u5217\u8868\u5c06\u4fdd\u5b58\u81f3 <code>default_key</code> \u4e0a\u4e0b\u6587\u3002</p>"},{"location":"plugins/builtin/control/switch/#_1","title":"\u4e0a\u4e0b\u6587","text":"\u4e0a\u4e0b\u6587 \u7c7b\u578b \u63cf\u8ff0 \u9ed8\u8ba4\u503c <code>load_key</code> str \u9700\u8981\u5206\u652f\u5904\u7406\u7684\u6587\u4ef6\u5217\u8868 <code>'default'</code> <code>default_key</code> str \u672a\u6ee1\u8db3\u4efb\u610f\u5206\u652f\u6761\u4ef6\u7684\u6587\u4ef6\u5217\u8868 \u65e0"},{"location":"plugins/builtin/control/switch/#_2","title":"\u914d\u7f6e","text":""},{"location":"plugins/builtin/control/switch/#switchpluginconfig","title":"SwitchPluginConfig","text":"<p>SwitchPluginConfig</p> <p><code>auto_unpack.plugins.control.switch.SwitchPluginConfig</code></p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 \u9ed8\u8ba4\u503c <code>name</code> Literal['switch'] \u63d2\u4ef6\u540d\u79f0\uff0c\u56fa\u5b9a\u4e3a <code>'switch'</code> <code>'switch'</code> <code>cases</code> List[Union[SizeCase, GlobCase, CTimeCase, MTimeCase]] \u5206\u652f\u6761\u4ef6 <code>[]</code> <code>\u4e0a\u4e0b\u6587\u5b57\u6bb5\u89c1\u4e0a\u6587</code>"},{"location":"plugins/builtin/control/switch/#sizecase","title":"SizeCase","text":"<p>SizeCase</p> <p><code>auto_unpack.plugins.control.switch.SizeCase</code> \u6587\u4ef6\u5927\u5c0f\u8fc7\u6ee4\u5668\uff0c\u7528\u4e8e\u7b5b\u9009\u6587\u4ef6\u5927\u5c0f\u6ee1\u8db3\u6761\u4ef6\u7684\u6587\u4ef6\u3002</p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 \u9ed8\u8ba4\u503c <code>mode</code> Literal['size'] \u6587\u4ef6\u5927\u5c0f\u8fc7\u6ee4\uff0c\u56fa\u5b9a\u4e3a <code>'size'</code> <code>'size'</code> <code>size</code> float \u6587\u4ef6\u5927\u5c0f\u9650\u5236 \u65e0 <code>operator</code> Literal['&lt;', '&gt;', '&lt;=', '&gt;=', '==', '!='] \u5927\u5c0f\u6bd4\u8f83\u8fd0\u7b97\u7b26 <code>&gt;=</code> <code>unit</code> Literal['b', 'kb', 'mb', 'gb', 'tb'] \u5355\u4f4d <code>mb</code> <code>save_key</code> str \u5206\u652f\u4e0a\u4e0b\u6587 \u65e0"},{"location":"plugins/builtin/control/switch/#globcase","title":"GlobCase","text":"<p>GlobCase</p> <p><code>auto_unpack.plugins.control.switch.GlobCase</code> \u6587\u4ef6\u8def\u5f84\u8fc7\u6ee4\u5668\uff0c\u7528\u4e8e\u7b5b\u9009\u6587\u4ef6\u8def\u5f84\u6ee1\u8db3\u6761\u4ef6\u7684\u6587\u4ef6\u3002</p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 \u9ed8\u8ba4\u503c <code>mode</code> Literal['glob'] \u6587\u4ef6\u8def\u5f84\u8fc7\u6ee4\uff0c\u56fa\u5b9a\u4e3a <code>'glob'</code> <code>'glob'</code> <code>includes</code> List[str] \u5305\u542b\u7684\u6587\u4ef6\u8def\u5f84\u5217\u8868\uff0cglob \u8868\u8fbe\u5f0f <code>['**/*']</code> <code>excludes</code> List[str] \u6392\u9664\u7684\u6587\u4ef6\u8def\u5f84\u5217\u8868\uff0cglob \u8868\u8fbe\u5f0f <code>[]</code> <code>save_key</code> str \u5206\u652f\u4e0a\u4e0b\u6587 \u65e0"},{"location":"plugins/builtin/control/switch/#ctimecase","title":"CTimeCase","text":"<p>CTimeCase</p> <p><code>auto_unpack.plugins.control.filter.CTimeCase</code> \u521b\u5efa\u65f6\u95f4\u8fc7\u6ee4\u5668\uff0c\u7528\u4e8e\u7b5b\u9009\u6587\u4ef6\u521b\u5efa\u65f6\u95f4\u6ee1\u8db3\u6761\u4ef6\u7684\u6587\u4ef6\u3002</p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 \u9ed8\u8ba4\u503c <code>mode</code> Literal['ctime'] \u521b\u5efa\u65f6\u95f4\u8fc7\u6ee4\uff0c\u56fa\u5b9a\u4e3a <code>'ctime'</code> <code>'ctime'</code> <code>time</code> str \u65f6\u95f4\u9650\u5236(\u683c\u5f0f: RFC3339)\u4f8b\u5982\uff1a2022-01-01T00:00:00Z \u65e0 <code>operator</code> Literal['&lt;', '&gt;', '&lt;=', '&gt;=', '==', '!='] \u5927\u5c0f\u6bd4\u8f83\u8fd0\u7b97\u7b26 <code>&gt;=</code>"},{"location":"plugins/builtin/control/switch/#mtimecase","title":"MTimeCase","text":"<p>MTimeCase</p> <p><code>auto_unpack.plugins.control.filter.MTimeCase</code> \u4fee\u6539\u65f6\u95f4\u8fc7\u6ee4\u5668\uff0c\u7528\u4e8e\u7b5b\u9009\u6587\u4ef6\u4fee\u6539\u65f6\u95f4\u6ee1\u8db3\u6761\u4ef6\u7684\u6587\u4ef6\u3002</p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 \u9ed8\u8ba4\u503c <code>mode</code> Literal['mtime'] \u4fee\u6539\u65f6\u95f4\u8fc7\u6ee4\uff0c\u56fa\u5b9a\u4e3a <code>'mtime'</code> <code>'mtime'</code> <code>time</code> str \u65f6\u95f4\u9650\u5236(\u683c\u5f0f: RFC3339)\u4f8b\u5982\uff1a2022-01-01T00:00:00Z \u65e0 <code>operator</code> Literal['&lt;', '&gt;', '&lt;=', '&gt;=', '==', '!='] \u5927\u5c0f\u6bd4\u8f83\u8fd0\u7b97\u7b26 <code>&gt;=</code>"},{"location":"plugins/builtin/control/switch/#_3","title":"\u793a\u4f8b","text":""},{"location":"plugins/builtin/control/switch/#txt-md","title":"\u7b5b\u9009 txt \u548c md \u6587\u4ef6","text":"<pre><code>flow:\n  steps:\n    # \u626b\u63cf archive \u76ee\u5f55\n    - name: scan\n      dir: archive\n\n    # \u7b5b\u9009 txt \u548c md \u6587\u4ef6\uff0c\u4fdd\u5b58\u81f3 txt_context \u548c md_context \u4e0a\u4e0b\u6587\n    # \u672a\u6ee1\u8db3\u6761\u4ef6\u7684\u6587\u4ef6\u4fdd\u5b58\u81f3 not_match_context \u4e0a\u4e0b\u6587\n    - name: switch\n      default_key: not_match_context\n      cases:\n        - mode: glob\n          includes:\n            - '*.txt'\n          save_key: txt_context\n\n        - mode: glob\n          includes:\n            - '*.md'\n          save_key: md_context\n\n    # \u6253\u5370 txt_context \u4e0a\u4e0b\u6587\u7684\u6587\u4ef6\u5217\u8868\n    - name: log\n      load_key: txt_context\n      file_name: txt_files\n\n    # \u6253\u5370 md_context \u4e0a\u4e0b\u6587\u7684\u6587\u4ef6\u5217\u8868\n    - name: log\n      load_key: md_context\n      file_name: md_files\n\n    # \u6253\u5370 not_match_context \u4e0a\u4e0b\u6587\u7684\u6587\u4ef6\u5217\u8868\n    - name: log\n      load_key: not_match_context\n      file_name: not_match_files\n</code></pre>"},{"location":"plugins/builtin/control/switch/#1mb","title":"\u7b5b\u9009\u5927\u4e8e 1MB \u7684\u6587\u4ef6","text":"<pre><code>flow:\n  steps:\n    # \u626b\u63cf archive \u76ee\u5f55\n    - name: scan\n      dir: archive\n\n    # \u7b5b\u9009\u5927\u4e8e 1MB \u7684\u6587\u4ef6\uff0c\u4fdd\u5b58\u81f3 big_context \u4e0a\u4e0b\u6587\n    # \u672a\u6ee1\u8db3\u6761\u4ef6\u7684\u6587\u4ef6\u4fdd\u5b58\u81f3 not_match_context \u4e0a\u4e0b\u6587\n    - name: switch\n      default_key: not_match_context\n      cases:\n        - mode: size\n          size: 1.0\n          unit: mb\n          save_key: big_context\n\n    # \u6253\u5370 big_context \u4e0a\u4e0b\u6587\u7684\u6587\u4ef6\u5217\u8868\n    - name: log\n      load_key: big_context\n      file_name: big_files\n\n    # \u6253\u5370 not_match_context \u4e0a\u4e0b\u6587\u7684\u6587\u4ef6\u5217\u8868\n    - name: log\n      load_key: not_match_context\n      file_name: not_match_files\n</code></pre>"}]}